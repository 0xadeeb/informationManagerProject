(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),s=n.n(r),o=(n(114),n(7)),l=(n(53),n(40),n(31)),i=n(1),j=c.a.createContext(),d=c.a.createContext();function u(){return[Object(a.useContext)(j),Object(a.useContext)(d)]}function b(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(i.jsx)(j.Provider,{value:c,children:Object(i.jsx)(d.Provider,{value:function(e){r(e)},children:e.children})})}var m=function(e){var t=u(),n=Object(o.a)(t,2),a=n[0];return n[1],Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:Object(i.jsxs)("div",{className:"navbar-nav",children:[a?Object(i.jsx)(l.b,{className:"nav-item nav-link mr-3",id:"home",to:"/",children:"Home"}):Object(i.jsx)(l.b,{className:"nav-item nav-link mr-3",id:"login",to:"/log-in",children:"Login"}),a?Object(i.jsx)("button",{className:"btn btn-secondary",id:"logout",onClick:function(t){return e.callback(t)},children:"Logout"}):Object(i.jsx)(l.b,{className:"nav-item nav-link",id:"signUp",to:"/sign-up",children:"Sign Up"})]})})]})})},O=n(15),h=n.n(O),x=n(24),p=n(178),v=n(179),f=n(12),g=n(103),N=n.n(g),y=n(104),k=n.n(y),w=n(108);n(165);var S=function(e){return Object(i.jsxs)("div",{className:"search",children:[Object(i.jsx)(w.a,{className:"search-icons",size:"1.3em"}),Object(i.jsx)("input",{value:e.searchText,onChange:function(t){return e.setSeacrhTet(t.target.value)},type:"text",placeholder:"type to search..."})]})},C=n(4),H=n(180);var T=function(e){return Object(i.jsxs)("div",{className:"form-group ",children:[e.label?Object(i.jsx)("label",{children:Object(i.jsx)("h3",{children:e.label})}):Object(i.jsx)(i.Fragment,{}),Object(i.jsx)("textarea",{type:"password",className:"form-control",placeholder:e.placeHolder,value:e.value,onChange:e.callBack,rows:e.rows,style:e.style})]})},B=n(68);n(166);var E=function(e){var t=Object(a.useState)(e.tags),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(i.jsxs)("div",{className:"tags-input",children:[Object(i.jsx)("ul",{id:"tags",children:c.map((function(e,t){return Object(i.jsxs)("li",{className:"tag",children:[Object(i.jsx)("span",{className:"tag-title",children:e}),Object(i.jsx)("span",{className:"tag-close-icon",onClick:function(){return e=t,void r(Object(B.a)(c.filter((function(t,n){return n!==e}))));var e},children:"x"})]},t)}))}),Object(i.jsx)("input",{type:"text",onKeyUp:function(t){return 32===t.keyCode?function(t){var n=t.target.value.trim().toLowerCase();""!==n&&(console.log(n),r([].concat(Object(B.a)(c),[n])),e.selectedTags([].concat(Object(B.a)(c),[n])),t.target.value="")}(t):null},placeholder:"Space bar to a add tag"})]})};var A=function(e){var t=Object(a.useState)(e.title),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.note),l=Object(o.a)(s,2),j=l[0],d=l[1],b=Object(a.useState)(e.tags),m=Object(o.a)(b,2),O=m[0],v=m[1],f=u(),g=Object(o.a)(f,2),N=g[0];g[1];var y=function(){var t=Object(x.a)(h.a.mark((function t(n){var a,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),0!==c.length&&0!==j.length){t.next=3;break}return t.abrupt("return");case 3:a={title:c,note:j,tags:O,id:e.id},s={Accepts:"application/json",Authorization:"Bearer ".concat(N)},N&&fetch("/api/".concat(e.method,"-note"),{headers:s,method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)})),d(""),r(""),v([]),e.onHide();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)(H.a,Object(C.a)(Object(C.a)({},e),{},{dialogClassName:"my-modalw",contentClassName:"my-modalh",backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",scrollable:!0,animation:e.animation,centered:!0,children:[Object(i.jsx)(H.a.Header,{children:Object(i.jsx)(H.a.Title,{id:"contained-modal-title-vcenter text-center",children:e.heading})}),Object(i.jsxs)(H.a.Body,{children:[Object(i.jsx)(T,{placeHolder:"Title",value:c,callBack:function(e){r(e.target.value)},rows:"1",style:{fontSize:23}}),Object(i.jsx)(T,{placeHolder:"Well go on...",value:j,callBack:function(e){d(e.target.value)},rows:"13"}),Object(i.jsx)(E,{tags:O,selectedTags:function(e){return function(e){v(e)}(e)}})]}),Object(i.jsxs)(H.a.Footer,{children:[Object(i.jsx)(p.a,{className:function(){var e="btn btn-";return 0===c.length||0===j.length?e+"secondary disabled mt-5 mr-auto":e+"primary mt-5 mr-auto"}(),type:"submit",variant:"primary",onClick:function(e){return y(e)},children:"Save note"}),Object(i.jsx)(p.a,{className:"btn btn-danger",variant:"secondary",onClick:e.onHide,children:"Cancel"})]})]}))};var F=function(e){var t=u(),n=Object(o.a)(t,2),a=n[0],c=(n[1],function(){var t=Object(x.a)(h.a.mark((function t(){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={id:e.id},c={Accepts:"application/json",Authorization:"Bearer ".concat(a)},fetch("/api/delete-note",{headers:c,method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)})),e.onHide();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(i.jsxs)(H.a,Object(C.a)(Object(C.a)({},e),{},{dialogClassName:"my-modalw",contentClassName:"my-modalh","aria-labelledby":"contained-modal-title-vcenter",scrollable:!0,"white-space":"pre-line",centered:!0,children:[Object(i.jsx)(H.a.Header,{children:Object(i.jsx)(H.a.Title,{id:"contained-modal-title-vcenter text-center",children:Object(i.jsx)("h3",{className:"m-2",children:e.title})})}),Object(i.jsx)(H.a.Body,{children:Object(i.jsxs)("div",{className:"m-2",children:[Object(i.jsx)("h5",{children:"Last Modified on:"}),e.addedOn(),Object(i.jsx)("div",{className:"mt-2",children:e.tags.map((function(e){return Object(i.jsxs)("span",{className:"badge bg-secondary larger-badge mr-2",style:{color:"white"},children:["#",e]},e)}))}),Object(i.jsx)("br",{}),e.note]})}),Object(i.jsxs)(H.a.Footer,{children:[Object(i.jsxs)("span",{className:"mr-auto",children:[Object(i.jsx)(p.a,{className:"btn btn-primary mr-3",variant:"primary",onClick:e.setEditModal,children:"Edit"}),Object(i.jsx)(p.a,{className:"btn btn-danger",variant:"primary",onClick:c,children:"Delete note"})]}),Object(i.jsx)(p.a,{className:"btn btn-warning",variant:"secondary",onClick:e.onHide,children:"Close"})]})]}))},P=n(107),I=n(106);var J=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(o.a)(r,2),l=s[0],j=s[1],d=Object(a.useState)(!1),b=Object(o.a)(d,2),m=b[0],O=b[1],g=Object(a.useState)(!1),y=Object(o.a)(g,2),w=y[0],C=y[1],H=Object(a.useState)({}),T=Object(o.a)(H,2),B=T[0],E=T[1],J=Object(a.useState)(""),z=Object(o.a)(J,2),L=z[0],U=z[1],M=Object(a.useState)([]),D=Object(o.a)(M,2),G=D[0],K=D[1],W=u(),q=Object(o.a)(W,2),Q=q[0];function R(){O(!1),C(!0)}q[1],Object(a.useEffect)((function(){var e={Accepts:"application/json",Authorization:"Bearer ".concat(Q)};Q&&0==l&&0==w&&fetch("/api/getallnotes",{headers:e}).then((function(e){return e.json()})).then((function(e){c(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[Q,l,w]);var V=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:t},a={Accepts:"application/json",Authorization:"Bearer ".concat(Q)},fetch("/api/get-notes-info",{headers:a,method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){E(e),console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==G.length){e.next=2;break}return e.abrupt("return");case 2:t={Accepts:"application/json",Authorization:"Bearer ".concat(Q)},Q&&fetch("/api/get-filtered-notes",{headers:t,method:"POST",body:JSON.stringify({tags:G})}).then((function(e){return e.json()})).then((function(e){c(e),console.log(e)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y={onClick:function(e,t){console.log(t),V(t.noteId),O(!0)}};return!Q||void 0==Q||Q.length<=10?Object(i.jsx)(f.a,{to:"/log-in"}):n&&n.notes?Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),B.note?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(F,{show:m,onHide:function(){return E({}),void O(!1)},title:B.note[0],note:B.note[1],addedOn:function(){return B.note[2]},stared:B.note[3].toString(),id:B.note[4],tags:B.tags,setEditModal:function(){return R()}}),Object(i.jsx)(A,{show:w,onHide:function(){return E({}),void C(!1)},heading:"Edit note",title:B.note[0],note:B.note[1],stared:B.note[3].toString(),id:B.note[4],tags:B.tags,method:"edit",animation:!1})]}):Object(i.jsx)(A,{show:l,onHide:function(){j(!1)},heading:"Add a new note",title:"",note:"",stared:"",id:"",tags:[],method:"add",animation:!0}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"}),Object(i.jsx)("div",{className:"col-md-10 col-sm-10 col-xs-12",children:Object(i.jsx)(S,{setSeacrhTet:U,searchText:L})}),Object(i.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"})]}),Object(i.jsxs)("div",{className:"row mb-4",children:[Object(i.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"}),Object(i.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-12",children:Object(i.jsx)(P.a,{placeholder:"Filter by tags",options:n.tags,components:Object(I.a)(),onChange:K,noOptionsMessage:function(){return"None of the notes have a tag to filter."},isMulti:!0,autoFocus:!0,isSearchable:!0})}),Object(i.jsxs)("div",{className:"col-md-5 col-sm-5 col-xs-12",children:[Object(i.jsx)(p.a,{className:"btn btn-dark mr-4",onClick:function(){return X()},children:"Filter"}),Object(i.jsx)(p.a,{className:"btn btn-info",onClick:function(){j(!0)},children:"Add a new note"})]}),Object(i.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"}),Object(i.jsx)("div",{className:"col-md-10 col-sm-10 col-xs-12",children:Object(i.jsx)(N.a,{classes:"notesTable",keyField:"noteId",data:n.notes.filter((function(e){return e.Title.toLowerCase().includes(L)})),columns:[{dataField:"Sno",text:"#"},{dataField:"Title",text:"Title"},{dataField:"Started",text:"s"}],pagination:k()(),rowEvents:Y,striped:!0,bordered:!0,hover:!0})}),Object(i.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"})]})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)(v.a,{className:"center",animation:"grow",variant:"primary"}),Object(i.jsx)(v.a,{className:"center",animation:"grow",variant:"secondary"}),Object(i.jsx)(v.a,{className:"center",animation:"grow",variant:"primary"}),Object(i.jsx)(v.a,{className:"center",animation:"grow",variant:"secondary"})]})};var z=function(e){return Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsx)("label",{children:e.label}),Object(i.jsx)("input",{type:"password",className:"form-control",placeholder:e.placeHolder,value:e.value,onChange:e.callBack})]})};var L=function(e){return Object(i.jsxs)("div",{className:"mt-2",children:[Object(i.jsx)("label",{children:e.label}),Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:e.placeHolder,value:e.value,onChange:e.callBack})]})},U=n(181);var M=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],j=s[1],d=u(),b=Object(o.a)(d,2),m=b[0],O=b[1],p=Object(a.useState)(null),v=Object(o.a)(p,2),g=v[0],N=v[1],y=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n,l),a={userName:n,pass:l},e.next=5,fetch("/login",{headers:new Headers({Accepts:"application/json"}),method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.accessToken&&(sessionStorage.setItem("token",e.accessToken),O(e.accessToken)),j(""),"Invalid username!"==e.msg&&c(""),N([e.msg,e.variant])})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m&&void 0!=m&&m.length>=10?Object(i.jsx)(f.a,{to:"/"}):Object(i.jsxs)("div",{className:"customBG",children:[g?Object(i.jsx)(U.a,{variant:g[1],onClose:function(){return N(null)},dismissible:!0,children:Object(i.jsxs)("p",{children:[" ",g[0]]})},1):null,Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"center",children:Object(i.jsxs)("form",{onSubmit:y,children:[Object(i.jsx)("h3",{align:"center",children:"Login"}),Object(i.jsx)(L,{placeHolder:"Enter username",label:"User name",value:n,callBack:function(e){c(e.target.value)}}),Object(i.jsx)(z,{placeHolder:"Enter password",label:"Password",value:l,callBack:function(e){j(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Log In"})]})})]})};var D=function(){Object(f.g)();var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],j=s[1],d=Object(a.useState)(""),u=Object(o.a)(d,2),b=u[0],m=u[1],O=Object(a.useState)(""),p=Object(o.a)(O,2),v=p[0],g=p[1],N=Object(a.useState)(null),y=Object(o.a)(N,2),k=y[0],w=y[1],S=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(l),console.log(n),0!==n.length){e.next=6;break}return w(["Enter a user name!","danger"]),e.abrupt("return");case 6:if(0!==l.length){e.next=9;break}return w(["Enter your name!","danger"]),e.abrupt("return");case 9:if(0!==b.length){e.next=12;break}return w(["Enter a password!","danger"]),e.abrupt("return");case 12:if(0!==v.length){e.next=15;break}return w(["Confirm your password!","danger"]),e.abrupt("return");case 15:if(!(b.length<6)){e.next=20;break}return w(["Password too short- Should be minimun 6 characters","danger"]),m(""),g(""),e.abrupt("return");case 20:if(b===v){e.next=25;break}return w(["Password didn't match.","danger"]),m(""),g(""),e.abrupt("return");case 25:return a={userName:n,firstName:l,password1:b},e.next=28,fetch("/signup",{headers:new Headers({Accepts:"application/json"}),method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){w([e.msg,e.variant]),c(""),j(""),m(""),g("")})).catch((function(e){return console.log(e)}));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"customBG",children:[k?Object(i.jsx)(U.a,{variant:k[1],onClose:function(){return w(null)},dismissible:!0,children:Object(i.jsxs)("p",{children:[" ",k[0]]})},1):null,Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-12"}),Object(i.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-12",children:Object(i.jsxs)("form",{onSubmit:S,children:[Object(i.jsx)("h3",{align:"center",children:"Sign Up"}),Object(i.jsx)(L,{placeHolder:"Enter username",label:"User name",callBack:function(e){c(e.target.value)},value:n}),Object(i.jsx)(L,{placeHolder:"Enter your name",label:"First name",callBack:function(e){j(e.target.value)},value:l}),Object(i.jsx)(z,{placeHolder:"Enter password",label:"Password",callBack:function(e){m(e.target.value)},value:b}),Object(i.jsx)(z,{placeHolder:"Confirm password",label:"Confirm password",callBack:function(e){g(e.target.value)},value:v}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]})}),Object(i.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-12"})]})]})};var G=function(){var e=u(),t=Object(o.a)(e,2),n=(t[0],t[1]);return Object(a.useEffect)((function(){var e=sessionStorage.getItem("token");e&&void 0!=e&&""!=e&&n(e)}),[]),Object(i.jsx)(l.a,{children:Object(i.jsxs)("div",{className:"home",children:[Object(i.jsx)(m,{callback:function(e){return function(e){e.preventDefault(),sessionStorage.removeItem("token"),n(null)}(e)}}),Object(i.jsxs)(f.d,{children:[Object(i.jsx)(f.b,{path:"/",exact:!0,component:J}),Object(i.jsx)(f.b,{path:"/log-in",exact:!0,component:M}),Object(i.jsx)(f.b,{path:"/sign-up",exact:!0,component:D})]})]})})};n(175),n(176);s.a.render(Object(i.jsx)(b,{children:Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(G,{})})}),document.getElementById("root"))},40:function(e,t,n){}},[[177,1,2]]]);
//# sourceMappingURL=main.e1afb108.chunk.js.map