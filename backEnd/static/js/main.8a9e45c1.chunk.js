(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),s=n.n(r),o=(n(114),n(7)),i=(n(53),n(40),n(31)),l=n(1),d=c.a.createContext(),j=c.a.createContext();function u(){return[Object(a.useContext)(d),Object(a.useContext)(j)]}function b(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(l.jsx)(d.Provider,{value:c,children:Object(l.jsx)(j.Provider,{value:function(e){r(e)},children:e.children})})}var O=function(e){var t=u(),n=Object(o.a)(t,2),a=n[0];return n[1],Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:Object(l.jsxs)("div",{className:"navbar-nav",children:[a?Object(l.jsx)(i.b,{className:"nav-item nav-link mr-3",id:"home",to:"/",children:"Home"}):Object(l.jsx)(i.b,{className:"nav-item nav-link mr-3",id:"login",to:"/log-in",children:"Login"}),a?Object(l.jsx)("button",{className:"btn btn-secondary",id:"logout",onClick:function(t){return e.callback(t)},children:"Logout"}):Object(l.jsx)(i.b,{className:"nav-item nav-link",id:"signUp",to:"/sign-up",children:"Sign Up"})]})})]})})},m=n(15),h=n.n(m),v=n(24),x=n(178),p=n(179),f=n(12),g=n(103),S=n.n(g),N=n(104),E=n.n(N),_=n(108);n(165);var T=function(e){return Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)(_.a,{className:"search-icons",size:"1.3em"}),Object(l.jsx)("input",{value:e.searchText,onChange:function(t){return e.setSeacrhTet(t.target.value)},type:"text",placeholder:"type to search..."})]})},C=n(4),y=n(180);var w=function(e){return Object(l.jsxs)("div",{className:"form-group ",children:[e.label?Object(l.jsx)("label",{children:Object(l.jsx)("h3",{children:e.label})}):Object(l.jsx)(l.Fragment,{}),Object(l.jsx)("textarea",{type:"password",className:"form-control",placeholder:e.placeHolder,value:e.value,onChange:e.callBack,rows:e.rows,style:e.style})]})},k=n(68);n(166);var P=function(e){var t=Object(a.useState)(e.tags),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(l.jsxs)("div",{className:"tags-input",children:[Object(l.jsx)("ul",{id:"tags",children:c.map((function(e,t){return Object(l.jsxs)("li",{className:"tag",children:[Object(l.jsx)("span",{className:"tag-title",children:e}),Object(l.jsx)("span",{className:"tag-close-icon",onClick:function(){return e=t,void r(Object(k.a)(c.filter((function(t,n){return n!==e}))));var e},children:"x"})]},t)}))}),Object(l.jsx)("input",{type:"text",onKeyUp:function(t){return 32===t.keyCode?function(t){var n=t.target.value.trim().toLowerCase();""!==n&&(console.log(n),r([].concat(Object(k.a)(c),[n])),e.selectedTags([].concat(Object(k.a)(c),[n])),t.target.value="")}(t):null},placeholder:"Space bar to a add tag"})]})};var A=function(e){var t=Object(a.useState)(e.title),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(e.note),i=Object(o.a)(s,2),d=i[0],j=i[1],b=Object(a.useState)(e.tags),O=Object(o.a)(b,2),m=O[0],p=O[1],f=u(),g=Object(o.a)(f,2),S=g[0];g[1];var N=function(){var t=Object(v.a)(h.a.mark((function t(n){var a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),0!==c.length&&0!==d.length){t.next=3;break}return t.abrupt("return");case 3:a={title:c,note:d,tags:m,id:e.id},r={Accepts:"application/json",Authorization:"Bearer ".concat(S)},S&&fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/api/").concat(e.method,"-note"),{headers:r,method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)})),window.location.reload(!0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)(y.a,Object(C.a)(Object(C.a)({},e),{},{dialogClassName:"my-modalw",contentClassName:"my-modalh",backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",scrollable:!0,animation:e.animation,centered:!0,children:[Object(l.jsx)(y.a.Header,{children:Object(l.jsx)(y.a.Title,{id:"contained-modal-title-vcenter text-center",children:e.heading})}),Object(l.jsxs)(y.a.Body,{children:[Object(l.jsx)(w,{placeHolder:"Title",value:c,callBack:function(e){r(e.target.value)},rows:"1",style:{fontSize:23}}),Object(l.jsx)(w,{placeHolder:"Well go on...",value:d,callBack:function(e){j(e.target.value)},rows:"13"}),Object(l.jsx)(P,{tags:m,selectedTags:function(e){return function(e){p(e)}(e)}})]}),Object(l.jsxs)(y.a.Footer,{children:[Object(l.jsx)(x.a,{className:function(){var e="btn btn-";return 0===c.length||0===d.length?e+"secondary disabled mt-5 mr-auto":e+"primary mt-5 mr-auto"}(),type:"submit",variant:"primary",onClick:function(e){return N(e)},children:"Save note"}),Object(l.jsx)(x.a,{className:"btn btn-danger",variant:"secondary",onClick:e.onHide,children:"Cancel"})]})]}))};var R=function(e){var t=u(),n=Object(o.a)(t,2),a=n[0],c=(n[1],function(){var t=Object(v.a)(h.a.mark((function t(){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={id:e.id},c={Accepts:"application/json",Authorization:"Bearer ".concat(a)},fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/api/delete-note"),{headers:c,method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)})),window.location.reload(!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(l.jsxs)(y.a,Object(C.a)(Object(C.a)({},e),{},{dialogClassName:"my-modalw",contentClassName:"my-modalh","aria-labelledby":"contained-modal-title-vcenter",scrollable:!0,"white-space":"pre-line",centered:!0,children:[Object(l.jsx)(y.a.Header,{children:Object(l.jsx)(y.a.Title,{id:"contained-modal-title-vcenter text-center",children:Object(l.jsx)("h3",{className:"m-2",children:e.title})})}),Object(l.jsx)(y.a.Body,{children:Object(l.jsxs)("div",{className:"m-2",children:[Object(l.jsx)("h5",{children:"Last Modified on:"}),e.addedOn(),Object(l.jsx)("div",{className:"mt-2",children:e.tags.map((function(e){return Object(l.jsxs)("span",{className:"badge bg-secondary larger-badge mr-2",style:{color:"white"},children:["#",e]},e)}))}),Object(l.jsx)("br",{}),e.note]})}),Object(l.jsxs)(y.a.Footer,{children:[Object(l.jsxs)("span",{className:"mr-auto",children:[Object(l.jsx)(x.a,{className:"btn btn-primary mr-3",variant:"primary",onClick:e.setEditModal,children:"Edit"}),Object(l.jsx)(x.a,{className:"btn btn-danger",variant:"primary",onClick:c,children:"Delete note"})]}),Object(l.jsx)(x.a,{className:"btn btn-warning",variant:"secondary",onClick:e.onHide,children:"Close"})]})]}))},H=n(107),D=n(106);var B=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(o.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),O=b[0],m=b[1],g=Object(a.useState)(!1),N=Object(o.a)(g,2),_=N[0],C=N[1],y=Object(a.useState)({}),w=Object(o.a)(y,2),k=w[0],P=w[1],B=Object(a.useState)(""),F=Object(o.a)(B,2),K=F[0],W=F[1],I=Object(a.useState)([]),L=Object(o.a)(I,2),U=L[0],V=L[1],J=u(),z=Object(o.a)(J,2),M=z[0];function G(){m(!1),C(!0)}z[1],Object(a.useEffect)((function(){var e={Accepts:"application/json",Authorization:"Bearer ".concat(M)};M&&fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/api/getallnotes"),{headers:e}).then((function(e){return e.json()})).then((function(e){c(e),console.log(e)})).catch((function(e){return console.log(e)}))}),[M]);var q=function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:t},a={Accepts:"application/json",Authorization:"Bearer ".concat(M)},fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/api/get-notes-info"),{headers:a,method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){P(e),console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==U.length){e.next=2;break}return e.abrupt("return");case 2:t={Accepts:"application/json",Authorization:"Bearer ".concat(M)},M&&fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/api/get-filtered-notes"),{headers:t,method:"POST",body:JSON.stringify({tags:U})}).then((function(e){return e.json()})).then((function(e){c(e),console.log(e)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X={onClick:function(e,t){console.log(t),q(t.noteId),m(!0)}};return!M||void 0==M||M.length<=10?Object(l.jsx)(f.a,{to:"/log-in"}):n&&n.notes?Object(l.jsxs)("div",{children:[Object(l.jsx)("br",{}),k.note?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(R,{show:O,onHide:function(){return P({}),void m(!1)},title:k.note[0],note:k.note[1],addedOn:function(){return k.note[2]},stared:k.note[3].toString(),id:k.note[4],tags:k.tags,setEditModal:function(){return G()}}),Object(l.jsx)(A,{show:_,onHide:function(){return P({}),void C(!1)},heading:"Edit note",title:k.note[0],note:k.note[1],stared:k.note[3].toString(),id:k.note[4],tags:k.tags,method:"edit",animation:!1})]}):Object(l.jsx)(A,{show:i,onHide:function(){d(!1)},heading:"Add a new note",title:"",note:"",stared:"",id:"",tags:[],method:"add",animation:!0}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"}),Object(l.jsx)("div",{className:"col-md-10 col-sm-10 col-xs-12",children:Object(l.jsx)(T,{setSeacrhTet:W,searchText:K})}),Object(l.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"})]}),Object(l.jsxs)("div",{className:"row mb-4",children:[Object(l.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"}),Object(l.jsx)("div",{className:"col-md-5 col-sm-5 col-xs-12",children:Object(l.jsx)(H.a,{placeholder:"Filter by tags",options:n.tags,components:Object(D.a)(),onChange:V,noOptionsMessage:function(){return"None of the notes have a tag to filter."},isMulti:!0,autoFocus:!0,isSearchable:!0})}),Object(l.jsxs)("div",{className:"col-md-5 col-sm-5 col-xs-12",children:[Object(l.jsx)(x.a,{className:"btn btn-dark mr-4",onClick:function(){return Q()},children:"Filter"}),Object(l.jsx)(x.a,{className:"btn btn-info",onClick:function(){d(!0)},children:"Add a new note"})]}),Object(l.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"}),Object(l.jsx)("div",{className:"col-md-10 col-sm-10 col-xs-12",children:Object(l.jsx)(S.a,{classes:"notesTable",keyField:"noteId",data:n.notes.filter((function(e){return e.Title.toLowerCase().includes(K)})),columns:[{dataField:"Sno",text:"#"},{dataField:"Title",text:"Title"},{dataField:"Started",text:"s"}],pagination:E()(),rowEvents:X,striped:!0,bordered:!0,hover:!0})}),Object(l.jsx)("div",{className:"col-md-1 col-sm-1 col-xs-12"})]})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(p.a,{className:"center",animation:"grow",variant:"primary"}),Object(l.jsx)(p.a,{className:"center",animation:"grow",variant:"secondary"}),Object(l.jsx)(p.a,{className:"center",animation:"grow",variant:"primary"}),Object(l.jsx)(p.a,{className:"center",animation:"grow",variant:"secondary"})]})};var F=function(e){return Object(l.jsxs)("div",{className:"mt-3",children:[Object(l.jsx)("label",{children:e.label}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:e.placeHolder,value:e.value,onChange:e.callBack})]})};var K=function(e){return Object(l.jsxs)("div",{className:"mt-2",children:[Object(l.jsx)("label",{children:e.label}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:e.placeHolder,value:e.value,onChange:e.callBack})]})},W=n(181);var I=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],d=s[1],j=u(),b=Object(o.a)(j,2),O=b[0],m=b[1],x=Object(a.useState)(null),p=Object(o.a)(x,2),g=p[0],S=p[1],N=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n,i),a={userName:n,pass:i},e.next=5,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/login"),{headers:new Headers({Accepts:"application/json"}),method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.accessToken&&(sessionStorage.setItem("token",e.accessToken),m(e.accessToken)),S([e.msg,e.variant])})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O&&void 0!=O&&O.length>=10?Object(l.jsx)(f.a,{to:"/"}):Object(l.jsxs)("div",{className:"customBG",children:[g?Object(l.jsx)(W.a,{variant:g[1],onClose:function(){return S(null)},dismissible:!0,children:Object(l.jsxs)("p",{children:[" ",g[0]]})},1):null,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"center",children:Object(l.jsxs)("form",{onSubmit:N,children:[Object(l.jsx)("h3",{align:"center",children:"Login"}),Object(l.jsx)(K,{placeHolder:"Enter username",label:"User name",value:n,callBack:function(e){c(e.target.value)}}),Object(l.jsx)(F,{placeHolder:"Enter password",label:"Password",value:i,callBack:function(e){d(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Log In"})]})})]})};var L=function(){Object(f.g)();var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],d=s[1],j=Object(a.useState)(""),u=Object(o.a)(j,2),b=u[0],O=u[1],m=Object(a.useState)(""),x=Object(o.a)(m,2),p=x[0],g=x[1],S=Object(a.useState)(null),N=Object(o.a)(S,2),E=N[0],_=N[1],T=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(i),console.log(n),0!==n.length){e.next=6;break}return _(["Enter a user name!","danger"]),e.abrupt("return");case 6:if(0!==i.length){e.next=9;break}return _(["Enter your name!","danger"]),e.abrupt("return");case 9:if(0!==b.length){e.next=12;break}return _(["Enter a password!","danger"]),e.abrupt("return");case 12:if(0!==p.length){e.next=15;break}return _(["Confirm your password!","danger"]),e.abrupt("return");case 15:if(!(b.length<6)){e.next=18;break}return _(["Password too short- Should be minimun 6 characters","danger"]),e.abrupt("return");case 18:if(b===p){e.next=21;break}return _(["Password didn't match.","danger"]),e.abrupt("return");case 21:return a={userName:n,firstName:i,password1:b},e.next=24,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,"/signup"),{headers:new Headers({Accepts:"application/json"}),method:"POST",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){_([e.msg,e.variant])})).catch((function(e){return console.log(e)}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"customBG",children:[E?Object(l.jsx)(W.a,{variant:E[1],onClose:function(){return _(null)},dismissible:!0,children:Object(l.jsxs)("p",{children:[" ",E[0]]})},1):null,Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-12"}),Object(l.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-12",children:Object(l.jsxs)("form",{onSubmit:T,children:[Object(l.jsx)("h3",{align:"center",children:"Sign Up"}),Object(l.jsx)(K,{placeHolder:"Enter username",label:"User name",callBack:function(e){c(e.target.value)},value:n}),Object(l.jsx)(K,{placeHolder:"Enter your name",label:"First name",callBack:function(e){d(e.target.value)},value:i}),Object(l.jsx)(F,{placeHolder:"Enter password",label:"Password",callBack:function(e){O(e.target.value)},value:b}),Object(l.jsx)(F,{placeHolder:"Confirm password",label:"Confirm password",callBack:function(e){g(e.target.value)},value:p}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]})}),Object(l.jsx)("div",{className:"col-md-4 col-sm-4 col-xs-12"})]})]})};var U=function(){var e=u(),t=Object(o.a)(e,2),n=(t[0],t[1]);return Object(a.useEffect)((function(){var e=sessionStorage.getItem("token");e&&void 0!=e&&""!=e&&n(e)}),[]),Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)(O,{callback:function(e){return function(e){e.preventDefault(),sessionStorage.removeItem("token"),n(null)}(e)}}),Object(l.jsxs)(f.d,{children:[Object(l.jsx)(f.b,{path:"/",exact:!0,component:B}),Object(l.jsx)(f.b,{path:"/log-in",exact:!0,component:I}),Object(l.jsx)(f.b,{path:"/sign-up",exact:!0,component:L})]})]})})};n(175),n(176);s.a.render(Object(l.jsx)(b,{children:Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(U,{})})}),document.getElementById("root"))},40:function(e,t,n){}},[[177,1,2]]]);
//# sourceMappingURL=main.8a9e45c1.chunk.js.map